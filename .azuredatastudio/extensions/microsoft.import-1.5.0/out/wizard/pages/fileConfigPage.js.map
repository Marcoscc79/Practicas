{"version":3,"file":"fileConfigPage.js","sourceRoot":"../../../src","sources":["wizard/pages/fileConfigPage.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as azdata from 'azdata';\nimport * as vscode from 'vscode';\nimport { ImportPage } from '../api/importPage';\nimport * as constants from '../../common/constants';\nimport { promises as fs } from 'fs';\n\nexport class FileConfigPage extends ImportPage {\n\n\tprivate _serverDropdown: azdata.DropDownComponent;\n\tprivate _databaseDropdown: azdata.DropDownComponent;\n\tprivate _fileTextBox: azdata.InputBoxComponent;\n\tprivate _fileButton: azdata.ButtonComponent;\n\tprivate _tableNameTextBox: azdata.InputBoxComponent;\n\tprivate _schemaDropdown: azdata.DropDownComponent;\n\tprivate _form: azdata.FormContainer;\n\n\tprivate _schemaLoader: azdata.LoadingComponent;\n\n\tpublic get serverDropdown(): azdata.DropDownComponent {\n\t\treturn this._serverDropdown;\n\t}\n\n\tpublic set serverDropdown(serverDropdown: azdata.DropDownComponent) {\n\t\tthis._serverDropdown = serverDropdown;\n\t}\n\n\tpublic get databaseDropdown(): azdata.DropDownComponent {\n\t\treturn this._databaseDropdown;\n\t}\n\n\tpublic set databaseDropdown(databaseDropdown: azdata.DropDownComponent) {\n\t\tthis._databaseDropdown = databaseDropdown;\n\t}\n\n\tpublic get fileTextBox(): azdata.InputBoxComponent {\n\t\treturn this._fileTextBox;\n\t}\n\n\tpublic set fileTextBox(fileTextBox: azdata.InputBoxComponent) {\n\t\tthis._fileTextBox = fileTextBox;\n\t}\n\n\tpublic get fileButton(): azdata.ButtonComponent {\n\t\treturn this._fileButton;\n\t}\n\n\tpublic set fileButton(fileButton: azdata.ButtonComponent) {\n\t\tthis._fileButton = fileButton;\n\t}\n\n\tpublic get tableNameTextBox(): azdata.InputBoxComponent {\n\t\treturn this._tableNameTextBox;\n\t}\n\n\tpublic set tableNameTextBox(tableNameTextBox: azdata.InputBoxComponent) {\n\t\tthis._tableNameTextBox = tableNameTextBox;\n\t}\n\n\tpublic get schemaDropdown(): azdata.DropDownComponent {\n\t\treturn this._schemaDropdown;\n\t}\n\n\tpublic set schemaDropdown(schemaDropdown: azdata.DropDownComponent) {\n\t\tthis._schemaDropdown = schemaDropdown;\n\t}\n\n\tpublic get form(): azdata.FormContainer {\n\t\treturn this._form;\n\t}\n\n\tpublic set form(form: azdata.FormContainer) {\n\t\tthis._form = form;\n\t}\n\n\tpublic get schemaLoader(): azdata.LoadingComponent {\n\t\treturn this._schemaLoader;\n\t}\n\n\tpublic set schemaLoader(schemaLoader: azdata.LoadingComponent) {\n\t\tthis._schemaLoader = schemaLoader;\n\t}\n\n\tprivate tableNames: string[] = [];\n\n\tasync start(): Promise<boolean> {\n\t\tlet schemaComponent = await this.createSchemaDropdown();\n\t\tlet tableNameComponent = await this.createTableNameBox();\n\t\tlet fileBrowserComponent = await this.createFileBrowser();\n\t\tlet databaseComponent = await this.createDatabaseDropdown();\n\t\tlet serverComponent = await this.createServerDropdown();\n\n\t\tthis.form = this.view.modelBuilder.formContainer()\n\t\t\t.withFormItems(\n\t\t\t\t[\n\t\t\t\t\tserverComponent,\n\t\t\t\t\tdatabaseComponent,\n\t\t\t\t\tfileBrowserComponent,\n\t\t\t\t\ttableNameComponent,\n\t\t\t\t\tschemaComponent\n\t\t\t\t]).component();\n\n\t\tawait this.view.initializeModel(this.form);\n\t\treturn true;\n\t}\n\n\tasync onPageEnter(): Promise<boolean> {\n\t\tthis.serverDropdown.focus();\n\t\tlet r1 = await this.populateServerDropdown();\n\t\tlet r2 = await this.populateDatabaseDropdown();\n\t\tlet r3 = await this.populateSchemaDropdown();\n\t\treturn r1 && r2 && r3;\n\t}\n\n\toverride async onPageLeave(): Promise<boolean> {\n\t\tdelete this.model.serverId;\n\t\treturn true;\n\t}\n\n\tpublic override async cleanup(): Promise<boolean> {\n\t\tdelete this.model.filePath;\n\t\tdelete this.model.table;\n\n\t\treturn true;\n\t}\n\n\tprivate async createServerDropdown(): Promise<azdata.FormComponent> {\n\t\tthis.serverDropdown = this.view.modelBuilder.dropDown().withProps({\n\t\t\trequired: true\n\t\t}).component();\n\n\t\t// Handle server changes\n\t\tthis.serverDropdown.onValueChanged(async (value) => {\n\t\t\tif (value.selected) {\n\t\t\t\tconst connectionValue = this.serverDropdown.value as ConnectionDropdownValue;\n\t\t\t\tif (!connectionValue) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.model.server = connectionValue.connection;\n\t\t\t\tawait this.populateDatabaseDropdown();\n\t\t\t}\n\t\t\tawait this.populateDatabaseDropdown();\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.serverDropdown,\n\t\t\ttitle: constants.serverDropDownTitleText\n\t\t};\n\t}\n\n\tprivate async populateServerDropdown(): Promise<boolean> {\n\t\tlet values = await this.getServerValues();\n\t\tif (values === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.model.server = values[0].connection;\n\n\t\tthis.serverDropdown.values = values;\n\t\treturn true;\n\t}\n\n\tprivate async createDatabaseDropdown(): Promise<azdata.FormComponent> {\n\t\tthis.databaseDropdown = this.view.modelBuilder.dropDown().withProps({\n\t\t\trequired: true\n\t\t}).component();\n\n\t\t// Handle database changes\n\t\tthis.databaseDropdown.onValueChanged(async (value) => {\n\t\t\tif (value.selected) {\n\t\t\t\tconst nameValue = this.databaseDropdown.value as azdata.CategoryValue;\n\t\t\t\tif (!nameValue) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.model.database = nameValue.name;\n\t\t\t\tif (!this.model.server) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet connectionProvider = azdata.dataprotocol.getProvider<azdata.ConnectionProvider>(this.model.server.providerName, azdata.DataProviderType.ConnectionProvider);\n\t\t\t\tlet connectionUri = await azdata.connection.getUriForConnection(this.model.server.connectionId);\n\t\t\t\tconnectionProvider.changeDatabase(connectionUri, this.model.database);\n\t\t\t\tthis.populateSchemaDropdown();\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.databaseDropdown,\n\t\t\ttitle: constants.databaseDropdownTitleText\n\t\t};\n\t}\n\n\tprivate async populateDatabaseDropdown(): Promise<boolean> {\n\t\tthis.databaseDropdown.loading = true;\n\t\tthis.databaseDropdown.values = [];\n\t\tthis.schemaDropdown.values = [];\n\n\t\ttry {\n\t\t\tif (!this.model.server) {\n\t\t\t\t//TODO handle error case\n\t\t\t\tthis.databaseDropdown.loading = false;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet defaultServerDatabase = this.model.server.options.database;\n\n\t\t\tlet values: azdata.CategoryValue[];\n\t\t\ttry {\n\t\t\t\tvalues = await this.getDatabaseValues();\n\t\t\t} catch (error) {\n\t\t\t\t// This code is used in case of contained databases when the query will return an error.\n\t\t\t\tconsole.log(error);\n\t\t\t\tvalues = [{ displayName: defaultServerDatabase, name: defaultServerDatabase }];\n\t\t\t\tthis.databaseDropdown.editable = false;\n\t\t\t}\n\n\t\t\tthis.model.database = defaultServerDatabase;\n\n\t\t\tthis.databaseDropdown.updateProperties({\n\t\t\t\tvalues: values\n\t\t\t});\n\n\t\t\tthis.databaseDropdown.value = { displayName: this.model.database, name: this.model.database };\n\t\t} finally {\n\t\t\tthis.databaseDropdown.loading = false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate async createFileBrowser(): Promise<azdata.FormComponent> {\n\t\tthis.fileTextBox = this.view.modelBuilder.inputBox().withProps({\n\t\t\trequired: true,\n\t\t\tvalidationErrorMessage: constants.invalidFileLocationError\n\t\t}).withValidation(async (component) => {\n\t\t\tif (component.value) {\n\t\t\t\ttry {\n\t\t\t\t\tawait fs.access(component.value);\n\t\t\t\t\treturn true;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}).component();\n\n\t\tthis.fileTextBox.onTextChanged(e => {\n\t\t\tthis.model.newFileSelected = true;\n\t\t});\n\n\t\tthis.fileButton = this.view.modelBuilder.button().withProps({\n\t\t\tlabel: constants.browseFilesText,\n\t\t\tsecondary: true\n\t\t}).component();\n\n\t\tthis.fileButton.onDidClick(async (click) => {\n\t\t\tthis.model.newFileSelected = true;\n\t\t\tlet fileUris = await vscode.window.showOpenDialog(\n\t\t\t\t{\n\t\t\t\t\tcanSelectFiles: true,\n\t\t\t\t\tcanSelectFolders: false,\n\t\t\t\t\tcanSelectMany: false,\n\t\t\t\t\topenLabel: constants.openFileText,\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\t'CSV/TXT Files': ['csv', 'txt'],\n\t\t\t\t\t\t'All Files': ['*']\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!fileUris || fileUris.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet fileUri = fileUris[0];\n\t\t\tthis.fileTextBox.value = fileUri.fsPath;\n\n\t\t\t// Get the name of the file.\n\t\t\tlet nameStart = fileUri.path.lastIndexOf('/');\n\t\t\tlet nameEnd = fileUri.path.lastIndexOf('.');\n\n\t\t\t// Handle files without extensions\n\t\t\tif (nameEnd === 0) {\n\t\t\t\tnameEnd = fileUri.path.length;\n\t\t\t}\n\n\t\t\tlet extension = fileUri.path.substring(nameEnd + 1, fileUri.path.length);\n\n\t\t\t/**\n\t\t\t * FileType should be TXT for txt files and files with unknown types.\n\t\t\t *  CSVs and TSVs are treated as the CSV file while learning in the prose library.\n\t\t\t */\n\n\t\t\tswitch (extension.toLowerCase()) {\n\t\t\t\tcase 'json':\n\t\t\t\t\tthis.model.fileType = 'JSON';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'csv':\n\t\t\t\tcase 'tsv':\n\t\t\t\t\tthis.model.fileType = 'CSV';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.model.fileType = 'TXT';\n\t\t\t}\n\n\t\t\tthis.tableNameTextBox.value = fileUri.path.substring(nameStart + 1, nameEnd);\n\t\t\tthis.model.table = this.tableNameTextBox.value;\n\t\t\tthis.tableNameTextBox.validate();\n\n\t\t\t// Let then model know about the file path\n\t\t\tthis.model.filePath = fileUri.fsPath;\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.fileTextBox,\n\t\t\ttitle: constants.fileTextboxTitleText,\n\t\t\tactions: [this.fileButton]\n\t\t};\n\t}\n\n\tprivate async createTableNameBox(): Promise<azdata.FormComponent> {\n\t\tthis.tableNameTextBox = this.view.modelBuilder.inputBox().withValidation((name) => {\n\t\t\tlet tableName = name.value;\n\n\t\t\tif (!tableName || tableName.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// This won't actually do anything until table names are brought back in.\n\t\t\tif (this.tableNames.indexOf(tableName) !== -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}).withProps({\n\t\t\trequired: true,\n\t\t}).component();\n\n\t\tthis.tableNameTextBox.onTextChanged((tableName) => {\n\t\t\tthis.model.newFileSelected = true;\n\t\t\tthis.model.table = tableName;\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.tableNameTextBox,\n\t\t\ttitle: constants.tableTextboxTitleText,\n\t\t};\n\t}\n\n\n\tprivate async createSchemaDropdown(): Promise<azdata.FormComponent> {\n\t\tthis.schemaDropdown = this.view.modelBuilder.dropDown().withProps({\n\t\t\trequired: true\n\t\t}).component();\n\t\tthis.schemaLoader = this.view.modelBuilder.loadingComponent().withItem(this.schemaDropdown).component();\n\n\t\tthis.schemaDropdown.onValueChanged((value) => {\n\t\t\tif (value.selected) {\n\t\t\t\tconst schemaValue = this.schemaDropdown.value as azdata.CategoryValue;\n\t\t\t\tif (!schemaValue) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.model.schema = schemaValue.name;\n\t\t\t}\n\t\t});\n\n\n\t\treturn {\n\t\t\tcomponent: this.schemaLoader,\n\t\t\ttitle: constants.schemaTextboxTitleText,\n\t\t};\n\n\t}\n\n\tpublic async populateSchemaDropdown(): Promise<boolean> {\n\t\tthis.schemaLoader.loading = true;\n\n\t\tlet values = await this.getSchemaValues();\n\n\t\tthis.model.schema = values[0]?.name;\n\n\t\tthis.schemaDropdown.values = values;\n\n\t\tthis.schemaLoader.loading = false;\n\t\treturn true;\n\t}\n\n\tpublic async getSchemaValues(): Promise<{ displayName: string, name: string }[]> {\n\t\tif (!this.model.server) {\n\t\t\treturn [];\n\t\t}\n\t\tlet connectionUri = await azdata.connection.getUriForConnection(this.model.server.connectionId);\n\t\tlet queryProvider = azdata.dataprotocol.getProvider<azdata.QueryProvider>(this.model.server.providerName, azdata.DataProviderType.QueryProvider);\n\n\t\tlet results = await queryProvider.runQueryAndReturn(connectionUri, constants.selectSchemaQuery);\n\t\tlet idx = -1;\n\t\tlet count = -1;\n\n\t\tlet values = results.rows.map(row => {\n\t\t\tlet schemaName = row[0].displayValue;\n\t\t\tcount++;\n\t\t\tif (this.model.schema && schemaName === this.model.schema) {\n\t\t\t\tidx = count;\n\t\t\t}\n\t\t\tlet val = row[0].displayValue;\n\n\t\t\treturn {\n\t\t\t\tname: val,\n\t\t\t\tdisplayName: val\n\t\t\t};\n\t\t});\n\n\t\tif (idx >= 0) {\n\t\t\tlet tmp = values[0];\n\t\t\tvalues[0] = values[idx];\n\t\t\tvalues[idx] = tmp;\n\t\t}\n\t\treturn values;\n\t}\n\n\tprotected override deleteServerValues() {\n\t\tdelete this.model.server;\n\t\tdelete this.model.serverId;\n\t\tdelete this.model.database;\n\t\tdelete this.model.schema;\n\t}\n\n\tprotected deleteDatabaseValues() {\n\t\tdelete this.model.database;\n\t\tdelete this.model.schema;\n\t}\n}\n\n\ninterface ConnectionDropdownValue extends azdata.CategoryValue {\n\tconnection: azdata.connection.Connection;\n}\n"]}